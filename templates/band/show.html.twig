{% extends 'base.html.twig' %}

{% block title %} {{ parent() }} - {{ band.name }} :{% endblock %}

{% block body %}
    <main class="showBand container-fluid container-lg">
        <section class="bandTitle d-flex flex-column justify-content-center align-items-center">
            <h1>{{ band.name|upper }}{% if app.user %}<a href="{{ path('admin_band_edit', {'id': band.id}) }}"><i
                            class="text-primary bi bi-pen-fill"></i></a> {% endif %}
            </h1>
            <p>
                {% for event in band.events %}
                    {{ event.name|capitalize }}{{ loop.last ? "" : " ," }}
                {% endfor %}
            </p>
            <h2 class="h3 text-primary ">{{ band.tagline }}</h2>
        </section>
        <div class=allInfosWrapper>
            <section class="infos">
                <div id="bandCarousel" class="carousel slide" data-bs-ride="carousel" data-interval="100">
                    <div class="carousel-inner">
                        <div class="carousel-item active" data-bs-interval="{{ swiperTimer }}">
                            <img src="{{ vich_uploader_asset(band)|imagine_filter('swipper_filter') ?: "https://picsum.photos/1500/1000?random=2" }}"
                                 class="d-block w-100"
                                 alt="...">
                        </div>
                        <div class="carousel-item" data-bs-interval="{{ swiperTimer }}">
                            <img src="https://picsum.photos/1500/1000?random=2" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item" data-bs-interval="{{ swiperTimer }}">
                            <img src="https://picsum.photos/1500/1000?random=3" class="d-block w-100" alt="...">
                        </div>
                    </div>
                </div>
                <div class="description">
                    <p>{{ band.description|raw }}</p>
                </div>
            </section>
            <div class="moreInfos">
                <section class="concerts">
                    <h1>
                        <mark>Concerts</mark>
                    </h1>
                    <ul>
                        {% for concert in band.concerts|sort((a, b) => date(a.date) <=> date(b.date)) %}
                            <li class="{{ date(concert.date) <= date() ? "pastConcert" : "" }}">{{ concert.date|date("d/m/Y") }}
                                - {{ concert.address }}</li>
                        {% endfor %}
                    </ul>
                </section>
                <section class="links">
                    <h1>
                        <mark class="w-25">Liens</mark>
                    </h1>
                    <div class="videos">
                        <div class="iframeBandMedia">
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/iuWopOG4LYA"
                                    title="YouTube video player"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    loading="lazy"
                                    allowfullscreen></iframe>
                        </div>
                        <div class="iframeBandMedia">
                            <iframe width="100%" height="166" allow="autoplay"
                                    src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1216276000&color=%23682080&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>
                        </div>

                    </div>


                </section>

            </div>
        </div>
        {% include 'home/_homeContact.html.twig' %}

    </main>
{% endblock %}
